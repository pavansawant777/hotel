{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import Slider from\"./Slider\";import Menu from\"./Menu\";import Section from\"./Section\";import Serving from'./Serving';import Booking from\"./Book\";import Event from\"./Event\";import Tables from'./Tables';import Contact from\"./Contact\";import'../home.css';import{useNavigate}from\"react-router-dom\";import axios from\"axios\";import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Home(_ref){let{isAuthenticated,setAuth}=_ref;const[placed,setPlaced]=useState(0);const[bookingStatus,setBookingStatus]=useState(null);const[req,setReq]=useState(null);const navigate=useNavigate();// const getCurrent = async () => {\n//     if (!localStorage.getItem('token')) {\n//         navigate('/login');\n//     } else {\n//         try {\n//             const res = await axios.get(`http://localhost:5000/getCurrent/${localStorage.getItem('token')}`);\n//             setPlaced(res.data.u_id);\n//             console.log(res.data)\n//         } catch (error) {\n//             console.error(\"Error fetching current user data:\", error);\n//         }\n//     }\n// };\n// useEffect(() => {\n//     getCurrent();\n// }, []);\nconst reSelect=()=>{console.log(\"ReSelect called\");localStorage.removeItem(\"Requirement\");setReq(null);// Reset Req to null to show the Booking component again\nnavigate('/');};return/*#__PURE__*/_jsx(_Fragment,{children:isAuthenticated?/*#__PURE__*/_jsx(_Fragment,{children:bookingStatus===\"serving\"||localStorage.getItem(\"isBooked\".concat(placed))?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{children:placed}),/*#__PURE__*/_jsx(Serving,{placed:placed}),/*#__PURE__*/_jsx(Menu,{setPlaced:setPlaced})]}):req||localStorage.getItem(\"Requirement\")?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"cursor-pointer\",onClick:reSelect,children:\"ReSelect Size\"}),/*#__PURE__*/_jsx(Tables,{placed:placed,setPlaced:setPlaced,Tables:req,setBookingStatus:setBookingStatus})]}):/*#__PURE__*/_jsx(Booking,{setReq:setReq,placed:placed})}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Slider,{}),/*#__PURE__*/_jsx(Event,{}),/*#__PURE__*/_jsx(Contact,{})]})});}","map":{"version":3,"names":["React","useEffect","useState","Slider","Menu","Section","Serving","Booking","Event","Tables","Contact","useNavigate","axios","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","Home","_ref","isAuthenticated","setAuth","placed","setPlaced","bookingStatus","setBookingStatus","req","setReq","navigate","reSelect","console","log","localStorage","removeItem","children","getItem","concat","className","onClick"],"sources":["E:/new  internship/Team no 2/hotel/src/home/Home.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport Slider from \"./Slider\";\r\nimport Menu from \"./Menu\";\r\nimport Section from \"./Section\";\r\nimport Serving from './Serving';\r\nimport Booking from \"./Book\";\r\nimport Event from \"./Event\";\r\nimport Tables from './Tables';\r\nimport Contact from \"./Contact\";\r\nimport '../home.css';\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\n\r\nexport default function Home({ isAuthenticated, setAuth }) {\r\n    const [placed, setPlaced] = useState(0);\r\n    const [bookingStatus, setBookingStatus] = useState(null);\r\n    const [req, setReq] = useState(null);\r\n    const navigate = useNavigate();\r\n\r\n    // const getCurrent = async () => {\r\n    //     if (!localStorage.getItem('token')) {\r\n    //         navigate('/login');\r\n    //     } else {\r\n    //         try {\r\n    //             const res = await axios.get(`http://localhost:5000/getCurrent/${localStorage.getItem('token')}`);\r\n    //             setPlaced(res.data.u_id);\r\n    //             console.log(res.data)\r\n    //         } catch (error) {\r\n    //             console.error(\"Error fetching current user data:\", error);\r\n    //         }\r\n    //     }\r\n    // };\r\n\r\n    // useEffect(() => {\r\n    //     getCurrent();\r\n    // }, []);\r\n\r\n    const reSelect = () => {\r\n        console.log(\"ReSelect called\");\r\n        localStorage.removeItem(`Requirement`);\r\n        setReq(null); // Reset Req to null to show the Booking component again\r\n        navigate('/');\r\n    };\r\n\r\n    return (\r\n        <>\r\n            {isAuthenticated ? (\r\n                <>\r\n                    {bookingStatus === \"serving\" || localStorage.getItem(`isBooked${placed}`) ? (\r\n                        <>\r\n                            <h1>{placed}</h1>\r\n                            <Serving placed={placed} />\r\n                            <Menu setPlaced={setPlaced} />\r\n                        </>\r\n                    ) : (\r\n                        req || localStorage.getItem(`Requirement`) ? (\r\n                            <div>\r\n                                <h1 className=\"cursor-pointer\" onClick={reSelect}>ReSelect Size</h1>\r\n                                    <Tables placed={placed} setPlaced={setPlaced} Tables={req} setBookingStatus={setBookingStatus} />\r\n                            </div>\r\n                        ) : (\r\n                            <Booking setReq={setReq} placed={placed} />\r\n                        )\r\n                    )}\r\n                </>\r\n            ) : (\r\n                <>\r\n                    <Slider />\r\n                    {/* <Section /> */}\r\n                    <Event />\r\n                    <Contact />\r\n                </>\r\n            )}\r\n        </>\r\n    );\r\n}\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,MAAM,KAAM,UAAU,CAC7B,MAAO,CAAAC,IAAI,KAAM,QAAQ,CACzB,MAAO,CAAAC,OAAO,KAAM,WAAW,CAC/B,MAAO,CAAAC,OAAO,KAAM,WAAW,CAC/B,MAAO,CAAAC,OAAO,KAAM,QAAQ,CAC5B,MAAO,CAAAC,KAAK,KAAM,SAAS,CAC3B,MAAO,CAAAC,MAAM,KAAM,UAAU,CAC7B,MAAO,CAAAC,OAAO,KAAM,WAAW,CAC/B,MAAO,aAAa,CACpB,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,QAAA,IAAAC,SAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1B,cAAe,SAAS,CAAAC,IAAIA,CAAAC,IAAA,CAA+B,IAA9B,CAAEC,eAAe,CAAEC,OAAQ,CAAC,CAAAF,IAAA,CACrD,KAAM,CAACG,MAAM,CAAEC,SAAS,CAAC,CAAGtB,QAAQ,CAAC,CAAC,CAAC,CACvC,KAAM,CAACuB,aAAa,CAAEC,gBAAgB,CAAC,CAAGxB,QAAQ,CAAC,IAAI,CAAC,CACxD,KAAM,CAACyB,GAAG,CAAEC,MAAM,CAAC,CAAG1B,QAAQ,CAAC,IAAI,CAAC,CACpC,KAAM,CAAA2B,QAAQ,CAAGlB,WAAW,CAAC,CAAC,CAE9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA,KAAM,CAAAmB,QAAQ,CAAGA,CAAA,GAAM,CACnBC,OAAO,CAACC,GAAG,CAAC,iBAAiB,CAAC,CAC9BC,YAAY,CAACC,UAAU,cAAc,CAAC,CACtCN,MAAM,CAAC,IAAI,CAAC,CAAE;AACdC,QAAQ,CAAC,GAAG,CAAC,CACjB,CAAC,CAED,mBACIf,IAAA,CAAAE,SAAA,EAAAmB,QAAA,CACKd,eAAe,cACZP,IAAA,CAAAE,SAAA,EAAAmB,QAAA,CACKV,aAAa,GAAK,SAAS,EAAIQ,YAAY,CAACG,OAAO,YAAAC,MAAA,CAAYd,MAAM,CAAE,CAAC,cACrEL,KAAA,CAAAF,SAAA,EAAAmB,QAAA,eACIrB,IAAA,OAAAqB,QAAA,CAAKZ,MAAM,CAAK,CAAC,cACjBT,IAAA,CAACR,OAAO,EAACiB,MAAM,CAAEA,MAAO,CAAE,CAAC,cAC3BT,IAAA,CAACV,IAAI,EAACoB,SAAS,CAAEA,SAAU,CAAE,CAAC,EAChC,CAAC,CAEHG,GAAG,EAAIM,YAAY,CAACG,OAAO,cAAc,CAAC,cACtClB,KAAA,QAAAiB,QAAA,eACIrB,IAAA,OAAIwB,SAAS,CAAC,gBAAgB,CAACC,OAAO,CAAET,QAAS,CAAAK,QAAA,CAAC,eAAa,CAAI,CAAC,cAChErB,IAAA,CAACL,MAAM,EAACc,MAAM,CAAEA,MAAO,CAACC,SAAS,CAAEA,SAAU,CAACf,MAAM,CAAEkB,GAAI,CAACD,gBAAgB,CAAEA,gBAAiB,CAAE,CAAC,EACpG,CAAC,cAENZ,IAAA,CAACP,OAAO,EAACqB,MAAM,CAAEA,MAAO,CAACL,MAAM,CAAEA,MAAO,CAAE,CAEjD,CACH,CAAC,cAEHL,KAAA,CAAAF,SAAA,EAAAmB,QAAA,eACIrB,IAAA,CAACX,MAAM,GAAE,CAAC,cAEVW,IAAA,CAACN,KAAK,GAAE,CAAC,cACTM,IAAA,CAACJ,OAAO,GAAE,CAAC,EACb,CACL,CACH,CAAC,CAEX","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}