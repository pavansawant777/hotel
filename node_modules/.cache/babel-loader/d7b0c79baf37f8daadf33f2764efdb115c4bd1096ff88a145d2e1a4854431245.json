{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import{BrowserRouter,Routes,Route}from'react-router-dom';import Register from'./Register.jsx';import Login from'./Login.jsx';import Header from'./Header.jsx';import About from'./About.jsx';import Contact from'./home/Contact.jsx';import Home from'./home/Home.jsx';import Profile from'./home/Profile.jsx';import Footer from'./Footer.jsx';import PrintPreview from'./PrintPreview.jsx';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[auth,setAuth]=useState(false);useEffect(()=>{const verifyToken=async()=>{const token=localStorage.getItem('token');if(token){try{const response=await axios.get('http://localhost:5000/verifyToken',{headers:{Authorization:token}});setAuth(response.data.authenticated);}catch(error){console.error('Token verification failed:',error);setAuth(false);}}};verifyToken();},[]);return/*#__PURE__*/_jsxs(BrowserRouter,{children:[/*#__PURE__*/_jsx(Header,{isAuthenticated:auth,setAuth:setAuth}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Home,{isAuthenticated:auth,setAuth:setAuth})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",element:/*#__PURE__*/_jsx(Register,{})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(Login,{setAuth:setAuth})}),/*#__PURE__*/_jsx(Route,{path:\"/profile\",element:/*#__PURE__*/_jsx(Profile,{setAuth:setAuth,Auth:auth})}),/*#__PURE__*/_jsx(Route,{path:\"/about\",element:/*#__PURE__*/_jsx(About,{setAuth:setAuth,Auth:auth})}),/*#__PURE__*/_jsx(Route,{path:\"/contact\",element:/*#__PURE__*/_jsx(Contact,{setAuth:setAuth,Auth:auth})}),/*#__PURE__*/_jsx(Route,{path:\"/print\",element:/*#__PURE__*/_jsx(PrintPreview,{Auth:auth})})]}),/*#__PURE__*/_jsx(Footer,{})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","axios","BrowserRouter","Routes","Route","Register","Login","Header","About","Contact","Home","Profile","Footer","PrintPreview","jsx","_jsx","jsxs","_jsxs","App","auth","setAuth","verifyToken","token","localStorage","getItem","response","get","headers","Authorization","data","authenticated","error","console","children","isAuthenticated","path","element","Auth"],"sources":["E:/new  internship/Team no 2/hotel/src/App.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { BrowserRouter, Routes, Route } from 'react-router-dom';\r\nimport Register from './Register.jsx';\r\nimport Login from './Login.jsx';\r\nimport Header from './Header.jsx';\r\nimport About from './About.jsx';\r\nimport Contact from './home/Contact.jsx';\r\nimport Home from './home/Home.jsx';\r\nimport Profile from './home/Profile.jsx'\r\nimport Footer from './Footer.jsx';\r\nimport PrintPreview from './PrintPreview.jsx';\r\n\r\nfunction App() {\r\n    const [auth, setAuth] = useState(false);\r\n\r\n    useEffect(() => {\r\n        const verifyToken = async () => {\r\n            const token = localStorage.getItem('token');\r\n            if (token) {\r\n                try {\r\n                    const response = await axios.get('http://localhost:5000/verifyToken', {\r\n                        headers: { Authorization: token },\r\n                    });\r\n                    setAuth(response.data.authenticated);\r\n                } catch (error) {\r\n                    console.error('Token verification failed:', error);\r\n                    setAuth(false);\r\n                }\r\n            }\r\n        };\r\n\r\n        verifyToken();\r\n    }, []);\r\n\r\n    return (\r\n        <BrowserRouter>\r\n            <Header isAuthenticated={auth} setAuth={setAuth} />\r\n            <Routes>\r\n                <Route path='/' element={<Home isAuthenticated={auth} setAuth={setAuth} />} />\r\n                <Route path=\"/register\" element={<Register />} />\r\n                <Route path=\"/login\" element={<Login setAuth={setAuth} />} />\r\n                <Route path=\"/profile\" element={<Profile setAuth={setAuth} Auth={auth} />} />\r\n                <Route path=\"/about\" element={<About setAuth={setAuth} Auth={auth} />} />\r\n                <Route path=\"/contact\" element={<Contact setAuth={setAuth} Auth={auth} />} />\r\n                <Route path=\"/print\" element={<PrintPreview Auth={auth} />} />\r\n            </Routes>\r\n            <Footer />\r\n        </BrowserRouter>\r\n    );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}